---
import { Image } from 'astro:assets';

// Importa las imágenes
import Romance1 from '../../../../assets/img/Gen3/Romance1.webp';
import Romance2 from '../../../../assets/img/Gen3/Romance2.webp';
import Romance3 from '../../../../assets/img/Gen3/Romance3.webp';
import Romance4 from '../../../../assets/img/Gen3/Romance4.webp';
import Romance5 from '../../../../assets/img/Gen3/Romance5.webp';

const romanceMangas = [
  { id: 1, title: 'KIMI NI TODOKE', image: Romance1, link: 'series/kimi-ni-todoke' },
  { id: 2, title: 'AO HARU RIDE', image: Romance2, link: 'series/ao-haru-ride' },
  { id: 3, title: 'WOTAKU NI KOI WA MUZUKASHĪ', image: Romance3, link: 'series/wotakoi' },
  { id: 4, title: 'KAGUYA-SAMA: LOVE IS WAR', image: Romance4, link: 'series/kaguya-sama' },
  { id: 5, title: 'TONIKAKU KAWAII: FLY ME TO THE MOON', image: Romance5, link: 'series/tonikaku-kawaii' }
];

const { itemsPerPage = 4 } = Astro.props;
---
<div class="ArticleStrip">
  <div class="WheelStrip">
    <section class="KITHSlider romance-slider">
      <div class="KITHSlider-contentWrapper">
        <h3>GENEROS DESTACADOS</h3>
        <h2>ROMANCE</h2>

        <div class="KITHSlider-sliderWrapper">
          <div class="Slider">
            <div class="Slider-tape" style="transform: translateX(0px);">
              
              {romanceMangas.map((manga, index) => (
                <div 
                  class={`Slider-item ${index >= itemsPerPage ? 'Slider-item-hidden Slider-item-right' : ''}`}
                >
                  <div class="KITHWheelItem" aria-label={manga.title}>
                    <a href={manga.link}>
                      <div class="InnerBorder">
                        <div class="Item-Thumbnail-Series" aria-label={`poster wrapper for ${manga.title}`}>
                          <div class="ui-series-poster-container ui-series-poster-container-hover" style="padding-top: 140%;">
                            <div class="ui-series-poster-container-2">
                              <div class="ui-series-poster-wrapper">

                                <Image
                                  src={manga.image}
                                  alt={`${manga.title} manga cover`}
                                  class="ui-series-poster-image"
                                  loading="lazy"
                                  fetchpriority="low"
                                  widths={[162, 212, 240, 338]}
                                  sizes="(max-width: 767px) 240px, (max-width: 991px) 162px, (max-width: 1199px) 212px, 338px"
                                  format="webp"
                                />

                                <div class="colorize" style="background-color: rgb(210, 49, 194);"></div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </a>

                    <div class="TituloItem" aria-label={manga.title}>
                      {manga.title}
                    </div>

                    <a class="KITHWheelItem-reader" href={manga.link} aria-label={`Read ${manga.title} Chapter 1`}>
                      <span class="ui-underlined-text">LEER CAPITULO 1</span>
                    </a>
                  </div>
                </div>
              ))}
            </div>

            <div class="KITHSlider-bullets"></div>

            <div class="KITHSlider-btnWrapper prev">
              <button type="button" tabindex="-1" aria-label="Previous page">
                <svg viewBox="0 0 96 96" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <path d="M69.8437,43.3876,33.8422,13.3863a6.0035,6.0035,0,0,0-7.6878,9.223l30.47,25.39-30.47,25.39a6.0035,6.0035,0,0,0,7.6878,9.2231L69.8437,52.6106a6.0091,6.0091,0,0,0,0-9.223Z"></path>
                </svg>
              </button>
            </div>

            <div class="KITHSlider-btnWrapper next visible">
              <button type="button" tabindex="-1" aria-label="Next page">
                <svg viewBox="0 0 96 96" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <path d="M69.8437,43.3876,33.8422,13.3863a6.0035,6.0035,0,0,0-7.6878,9.223l30.47,25.39-30.47,25.39a6.0035,6.0035,0,0,0,7.6878,9.2231L69.8437,52.6106a6.0091,6.0091,0,0,0,0-9.223Z"></path>
                </svg>
              </button>
            </div>

          </div>
        </div>
      </div>
    </section>
  </div>
</div>

<script>
  import { ROMANCESlider } from './ROMANCE';

  document.addEventListener('DOMContentLoaded', () => {
    new ROMANCESlider({
      itemsPerPage: 4,
      sliderSelector: '.romance-slider .Slider-tape',
      itemSelector: '.romance-slider .Slider-item',
      nextBtnSelector: '.romance-slider .KITHSlider-btnWrapper.next button',
      prevBtnSelector: '.romance-slider .KITHSlider-btnWrapper.prev button',
      bulletsSelector: '.romance-slider .KITHSlider-bullets'
    });
  });
</script>
